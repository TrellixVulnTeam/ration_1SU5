{% load utils %}

{% if item %}
<div class='rating-stars text-center'>
    <ul class='stars' class="mb-0" data-value="{{ item.id }}">
        <li class='star
{% if user_item.rating >= 1 %}
selected
{% endif %}' title='Horrible' data-value='1'>
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class='star
{% if user_item.rating >= 2 %}
selected
{% endif %}
' title='Bad' data-value='2'>
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class='star
{% if user_item.rating >= 3 %}
selected
{% endif %}' title='Normal' data-value='3'>
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class='star
{% if user_item.rating >= 4 %}
selected
{% endif %}' title='Good' data-value='4'>
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class='star
{% if user_item.rating >= 5 %}
selected
{% endif %}' title='Excellent' data-value='5'>
            <i class='fa fa-star fa-fw'></i>
        </li>
    </ul>
</div>

{% elif user_item %}
<div class="rating-stars text-center">
    <ul class="stars mb-0" data-value="{{ user_item.item.id}}">

        {%get_user_score_by_item request.user user_item.item as your_score%}

        <li class="star {% if your_score >= 1 %}selected{% endif %}"
            title="Horrible" data-value="1">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 2 %}selected{% endif %}"
            title="Bad" data-value="2">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 3 %}selected{% endif %}"
            title="Normal" data-value="3">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 4 %}selected{% endif %}"
            title="Good" data-value="4">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 5 %}selected{% endif %}"
            title="Excellent" data-value="5">
            <i class='fa fa-star fa-fw'></i>
        </li>
    </ul>
</div>

{% elif comparison %}
<div class="rating-stars text-center">
    <ul class="stars mb-0" data-value="{{ comparison.item.id}}">

        {%get_user_score_by_item request.user comparison.item as your_score%}

        <li class="star {% if your_score >= 1 %}selected{% endif %}"
            title="Horrible" data-value="1">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 2 %}selected{% endif %}"
            title="Bad" data-value="2">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 3 %}selected{% endif %}"
            title="Normal" data-value="3">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 4 %}selected{% endif %}"
            title="Good" data-value="4">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 5 %}selected{% endif %}"
            title="Excellent" data-value="5">
            <i class='fa fa-star fa-fw'></i>
        </li>
    </ul>
</div>

{% elif update %}
<div class="rating-stars text-center">
    <ul class="stars mb-0" data-value="{{update.interaction.item.id}}">

        {%get_user_score_by_item request.user update.interaction.item as your_score%}

        <li class="star {% if your_score >= 1 %}selected{% endif %}"
            title="Horrible" data-value="1">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 2 %}selected{% endif %}"
            title="Bad" data-value="2">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 3 %}selected{% endif %}"
            title="Normal" data-value="3">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 4 %}selected{% endif %}"
            title="Good" data-value="4">
            <i class='fa fa-star fa-fw'></i>
        </li>
        <li class="star {% if your_score >= 5 %}selected{% endif %}"
            title="Excellent" data-value="5">
            <i class='fa fa-star fa-fw'></i>
        </li>
    </ul>
</div>
{% endif %}